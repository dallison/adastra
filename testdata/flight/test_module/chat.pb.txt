subsystem {
  name: "chat"
  module {
    name: "talker"
    zygote: "standard_zygote"
    dso: "${runfiles_dir}/__main__/testdata/talker.so"
    options {
      sigint_shutdown_timeout_secs: 2
      sigterm_shutdown_timeout_secs: 10
    }
    stdout {
      where: LOGGER
    }
    stderr {
      where: FILE
      filename: "/tmp/talker.log"
    }
    stdin {
      where: CLOSE
    }
  }
  module {
    name: "listener"
    zygote: "standard_zygote"
    dso: "${runfiles_dir}/__main__/testdata/listener.so"
    options {
      sigint_shutdown_timeout_secs: 2
      sigterm_shutdown_timeout_secs: 10
    }
    stdout {
      where: LOGGER
    }
    stderr {
      where: FILE
      filename: "/tmp/talker.log"
    }
    stdin {
      where: CLOSE
    }
  }

  dep: "subspace"
}

interface: "chat"

